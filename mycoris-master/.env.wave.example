# ============================================================================
# CONFIGURATION WAVE CHECKOUT - Exemple de variables d'environnement
# ============================================================================
# Copiez ce fichier en .env et remplissez les valeurs de votre compte Wave
# ============================================================================

# --- AUTHENTIFICATION WAVE ---
# API Key Wave (obtenir depuis: https://dashboard.wave.com/settings/api-keys)
WAVE_API_KEY=YOUR_WAVE_API_KEY_HERE

# Secret Key pour vérifier les signatures des webhooks
# (obtenir depuis: https://dashboard.wave.com/settings/webhooks)
WAVE_WEBHOOK_SECRET=YOUR_WAVE_WEBHOOK_SECRET_HERE

# --- MODE DE DÉVELOPPEMENT ---
# En développement: true (requis pour tester)
# En production: false (utilise les vrais paiements)
WAVE_DEV_MODE=false

# --- ENVIRONNEMENT ---
# 'development' -> API test Wave
# 'production'  -> API production Wave
NODE_ENV=production

# --- URLs WAVE (TRÈS IMPORTANT: HTTPS obligatoire) ---
# URL de succès - affichée après paiement réussi
WAVE_SUCCESS_URL=https://185.98.138.168:5000/wave-success

# URL d'erreur - affichée après échec du paiement
WAVE_ERROR_URL=https://185.98.138.168:5000/wave-error

# URL du webhook - appelée par Wave après chaque paiement
WAVE_WEBHOOK_URL=https://185.98.138.168:5000/api/payment/wave/webhook

# --- CONFIGURATION DE LA REQUÊTE ---
# Devise (doit être cohérent avec votre compte Wave)
WAVE_CURRENCY=XOF

# Timeout de session Wave en secondes (défaut: 3600 = 1 heure)
WAVE_SESSION_TIMEOUT=3600

# Langue du formulaire de paiement
WAVE_LANGUAGE=fr

# --- RÉGLAGES DE TEST ---
# Force les paiements test à 10 XOF (À METTRE À FALSE EN PRODUCTION!)
TEST_MODE_FORCE_10_XOF=false

# --- NOTIFICATIONS ---
# SMS pour confirmation (à laisser true)
WAVE_SEND_SMS_ON_SUCCESS=true

# --- LOGS ---
# Niveau de log: 'debug', 'info', 'warn', 'error'
LOG_LEVEL=info

# Afficher les détails des transactions Wave
WAVE_LOG_TRANSACTIONS=true

# ============================================================================
# INSTRUCTIONS DE CONFIGURATION
# ============================================================================

# 1. OBTENIR LES CLÉS WAVE:
#    a) Se connecter à https://dashboard.wave.com
#    b) Aller à Settings → API Keys → API Credentials
#    c) Copier l'API Key complète
#    d) Aller à Settings → Webhooks
#    e) Copier le Secret Key pour les webhooks

# 2. AJOUTER LES URLs AUX PARAMÈTRES WAVE:
#    a) Dashboard Wave → Store Settings → Payment Methods
#    b) Sélectionner Wave Checkout
#    c) Configurer:
#       - Success URL: https://185.98.138.168:5000/wave-success
#       - Error URL: https://185.98.138.168:5000/wave-error
#    d) Activer les Webhooks

# 3. CONFIGURER LES WEBHOOKS DANS WAVE:
#    a) Dashboard Wave → Settings → Webhooks
#    b) Créer un nouveau Webhook
#    c) URL: https://185.98.138.168:5000/api/payment/wave/webhook
#    d) Événements à sélectionner:
#       - checkout.session.completed
#       - checkout.session.expired
#       - payment.succeeded
#       - payment.failed
#    e) Header: X-Wave-Signature
#    f) Enregistrer et tester

# 4. TESTER LE FLUX:
#    a) Mettre TEST_MODE_FORCE_10_XOF=true en développement
#    b) Lancer l'app Flutter
#    c) Aller à la proposition et payer
#    d) Vérifier que la page success/error s'affiche
#    e) Vérifier que la proposition devient contrat
#    f) Vérifier que la SMS est reçue
#    g) Vérifier les logs webhook

# 5. EN PRODUCTION:
#    a) Mettre TEST_MODE_FORCE_10_XOF=false
#    b) Utiliser les vraies clés API Wave (sk_live_*)
#    c) Vérifier les certificats HTTPS (requis par Wave)
#    d) Activer les logs pour surveillance
#    e) Configurer les URLs HTTPS correctes
#    f) Tester avec un vrai paiement de montant test

# ============================================================================
